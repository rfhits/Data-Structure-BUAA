# 树和二叉树

## 概念

### 树的定义

树(Tree)是n(n≧0)个结点的有限集合T，若n=0时称为空树，否则：
1. 有且只有一个特殊的称为树的根(Root)结点；
2. 若n>1时，其余的结点被分为m(m>0)个互不相交的子集T1, T2, T3…Tm，  
   其中每个子集本身又是一棵树，称其为根的子树(Subtree)。

这是树的递归定义，即用树来定义树，而只有一个结点的树必定仅由根组成

### 树的基本术语

![树示意图](/img/1-Notes/3-树/树示意图.jpg)

结点(node)：一个数据元素及其若干指向其子树的分支。

结点的度(degree) 、树的度：结点所拥有的子树的棵数称为结点的度。树中结点度的最大值称为树的度。  
如图中结点A的度是3，结点B的度是2，结点M的度是0，树的度是3。

叶子(left)结点、非叶子结点：  
树中度为0的结点称为叶子结点（或终端结点）。  
度不为0的结点称为非叶子结点（或非终端结点或分支结点）。  
除根结点外，分支结点又称为内部结点。  
如图中结点H、I、J、K、L、M、N是叶子结点，而所有其它结点都是分支结点。

孩子结点、双亲结点、兄弟结点：  
一个结点的子树的根称为该结点的孩子结点(child)或子结点；  
相应地，该结点是其孩子结点的双亲结点(parent)或父结点。

层次、堂兄弟结点：  
规定树中**根结点**的层次为1，其余结点的层次等于其双亲结点的层次加1。  
若某结点在第l(l≧1)层，则其子结点在第l+1层。
**双亲结点在同一层**上的所有结点互称为堂兄弟结点。如图中结点E、F、G、H、I、J。

结点的层次路径、祖先、子孙：  
从根结点开始，到达某结点p所经过的所有结点成为结点p的层次路径（有且只有一条）  
结点p的层次路径上的所有结点（p除外）称为p的祖先(ancester)。  
以某一结点为根的子树中的任意结点称为该结点的子孙结点(descent)。  

树的深度(depth)：树中结点的最大层次值，又称为树的高度，如图中树的高度为4。

有序树和无序树：对于一棵树，若其中每一个结点的子树（若有）具有一定的次序，则该树称为有序树，否则称为无序树。

森林(forest)：是m(m≧0)棵互**不相交**的树的集合。显然，若将一棵树的根结点删除，剩余的子树就构成了森林。

## 二叉树

### 二叉树的性质

1. 在非空二叉树中，第i层至多有2^(i-1)个结点(i≧1)。

2. 深度为k的二叉树至多有(2^k)-1个结点（k≧1) 。

3. 对任何一棵二叉树，若其叶子结点数为n0，度为2的结点数为n2，则n0=n2+1。  
   证明：为一颗二叉树增加一个叶子结点，要么加在叶子节点上，此时，n0不变；  
   加在非叶子节点上，叶子节点和度为2的结点数各加1，  
   故只有一个根节点时，该式成立即可，  
   确实如此。

### 满二叉树和完全二叉树

满二叉树(Full Binary Tree)：  
一棵深度为k且有(2^k)-1个结点的二叉树称为满二叉树。  
![满二叉树](/img/1-Notes/3-树/满二叉树.jpg)  
可对满二叉树的结点进行连续编号，  
若规定从根结点开始，按“自上而下、自左至右”的原则进行。

完全二叉树(Complete Binary Tree)：  
如果深度为k，由n个结点的二叉树，  
当且仅当其每一个结点都与深度为k的满二叉树中编号从1到n的结点一一对应，  
该二叉树称为完全二叉树。  
![完全二叉树](/img/1-Notes/3-树/完全二叉树.jpg)

完全二叉树的特点：  
若完全二叉树的深度为k，则所有的叶子结点都出现在第k层或k-1层。  
对于任一结点，如果其右子树的最大层次为l，则其左子树的最大层次为l或l+1

完全二叉树是满二叉树的一部分，而满二叉树是完全二叉树的特例。


### 二叉树的存储结构

#### 顺序存储结构

二叉树存储结构的类型定义：

	#define MAX_SIZE  100
 	typedef telemtype sqbitree[MAX_SIZE];


用一组地址连续的存储单元依次“自上而下、自左至右”存储完全二叉树的数据元素。  
对于完全二叉树上编号为i的结点元素存储在一维数组的下标值为i-1的分量中  
对于一般的二叉树，将其每个结点与完全二叉树上的结点相对照，存储在一维数组中  

![](/img/1-Notes/3-树/二叉树的顺序存储结构.jpg)

坏处是，空节点，也要存储，  
最坏的情况下，一个深度为k且只有k个结点的单支树需要长度为2k-1的一维数组。

#### 链式存储结构

设计不同的结点结构可构成不同的链式存储结构。

##### 结点的类型及其定义

二叉链表结点  
有三个域：一个数据域，两个分别指向左右子结点的指针域

    typedef struct BTNode
    {  
        ElemType  data ;
        struct BTNode  *Lchild , *Rchild ;
    }BTNode ; 

三叉链表结点  
除二叉链表的三个域外，再增加一个指针域，用来指向结点的父结点

    typedef struct BTNode_3
    {  
        ElemType  data ;
        struct BTNode_3  *Lchild , *Rchild , *parent ;
    }BTNode_3 ; 

![链表结点结构形式](/img/1-Notes/3-树/链表结点结构形式.jpg)

##### 存储形式

![](/img/1-Notes/3-树/二叉树及其链式存储结构.jpg)